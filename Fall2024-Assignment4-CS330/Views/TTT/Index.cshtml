@model Fall2024_Assignment4_CS330.Models.TTTModel
@{
    ViewBag.Title = "Tic Tac Toe";
}

<h2>Tic Tac Toe</h2>

<div>
    <table border="1" style="border-collapse: collapse; width: 450px; height: 450px; text-align: center;">
        @for (int x = 0; x < 3; x++) // Board rows
        {
            <tr>
                @for (int y = 0; y < 3; y++) // Board columns
                {
                    <td style="width: 150px; height: 150px;">
                        <table border="1" style="border-collapse: collapse; width: 100%; height: 100%; text-align: center;">
                            @for (int z = 0; z < 3; z++) // Grid rows
                            {
                                <tr>
                                    @for (int w = 0; w < 3; w++) // Grid columns
                                    {
                                        <td style="width: 50px; height: 50px;">
                                            @if (Model.Board[x,y,z,w] == '\0')
                                            {
                                                <form method="post" action="@Url.Action("MakeMove", "TTT")" style="display: inline;">
                                                    <input type="hidden" name="gridRow" value="@x" />
                                                    <input type="hidden" name="gridCol" value="@y" />
                                                    <input type="hidden" name="cellRow" value="@z" />
                                                    <input type="hidden" name="cellCol" value="@w" />
                                                    <button type="submit" style="width: 100%; height: 100%; font-size: 20px;">-</button>
                                                </form>
                                            }
                                            else
                                            {
                                                <span style="font-size: 16px;">@Model.Board[x,y,z,w]</span>
                                            }
                                        </td>
                                    }
                                </tr>
                            }
                        </table>
                    </td>
                }
            </tr>
        }
    </table>
</div>

@if (ViewBag.Message != null)
{
    <h3>@ViewBag.Message</h3>
    <form method="get" action="@Url.Action("Reset", "TTT")">
        <button type="submit" style="margin-top: 20px;">Restart Game</button>
    </form>
}
